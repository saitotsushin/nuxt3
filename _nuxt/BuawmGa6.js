import{_ as ye,o as O,c as q,a as e,r as o,j as ue,q as te,u as oe,s as ne,v as V,k as se,x as le,y as de,w as me,z as U,e as fe,t as p,A as H,B as t,b as N,W as ve,C as Le,R as Te,S as Ae,D as Z,P as ee,V as pe,E as Pe,F as Be,M as ke,G as ge,H as he,I as _e,L as be,J as xe,K as Ee}from"./6YmdV6tA.js";import{v as Re}from"./C74dAFiS.js";const De={},Ie={class:"l-pageTitle"},$e=e("h2",{class:"font-bit"},"MY SNEAKER LIST",-1),Ye=[$e];function Me(P,_){return O(),q("div",Ie,Ye)}const Ge=ye(De,[["render",Me]]),He={__name:"SneakerName",props:{title:String,isActive:{type:Boolean,default:!1}},setup(P){const _=o(null),f=P;let c=!1;ue(()=>f.isActive,v=>{v===!0&&(u(),c=!0)});const u=()=>{if(c)return;_.value.innerHTML="";const v=f.title.split("");var b=[];v.forEach((w,L)=>{const S=document.createElement("span");w==" "&&S.classList.add("nameSpacer"),S.textContent=w,b.push(S)});const x=document.createElement("div");x.classList.add("nameList"),b.forEach((w,L)=>{x.appendChild(b[L])}),_.value.appendChild(x),x.querySelectorAll("span").forEach((w,L)=>{setTimeout(()=>{w.style.display="block"},L*100)})};return(v,b)=>(O(),q("div",{class:"c-sneakerTitle",ref_key:"SneakerName",ref:_},null,512))}},Ne=`uniform sampler2D uTexture;
varying vec2 vUv;
// uniform float uPos;
uniform float uPercent;
uniform float uTime;
  
void main(void){
    // 1.シンプルに出力
    // vec4 color = texture2D(uTexture, vUv);
    // gl_FragColor = LinearTosRGB(vec4( color, 1.0 ));
    
    // 2.グレースケールフィルター
    // float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));
    // gl_FragColor = LinearTosRGB(vec4(vec3(gray), color.a));

    vec2 uv = vUv;

    float moz = uPercent * 0.02;

    if( moz > 0. ) {// 0では割れないので、if文で保護
        uv = floor( uv / moz ) * moz + ( moz * .5 );
    }
    vec4 texColor = texture2D( uTexture, uv );
    // アルファ値が 0 の場合はスキップ
    if (texColor.a < 0.5) {
        discard;
    }
    vec3 color = texColor.rgb;

    gl_FragColor = LinearTosRGB(vec4( color, 1.0 ));

}`,We=e("div",{class:"debugWebGLboxTextSS"},"Touching Area:",-1),Fe={class:"debugWebGLboxTextSS"},Oe=e("div",{class:"debugWebGLboxTextS"},"WebGLCanvas",-1),ze={class:"debugWebGLboxText"},X=4,Q=.05,K=1,Ke=te({__name:"Box3D_lo_mos",props:{title:String,cgPath:String,mainColor:String,modelIndex:String,isActive:{type:Boolean,default:!1}},setup(P,{expose:_,emit:f}){const c=o(null),u=P;let v=K;const b=o({x:"0",y:"0"}),x=f,d=oe(),w=ne();let L=[],S=null,T=null,C=null,y=null,A=null,n=null,i,D=null,B=!1,k=!1,m=!1,s=null,l=null;const I=()=>{x("getTitle",u.title)},g=()=>{B||S&&S.forEach(r=>{const R=new _e(i),G=R.clipAction(r);G.setLoop(be,0),G.clampWhenFinished=!0,G.play(),L.push(R),B=!0})},h=()=>{U.to(i.rotation,{y:Math.PI*6,duration:.5,repeat:0,ease:"power1.inOut",onComplete:function(){}}),U.to(i.scale,{x:0,z:0,duration:.5,repeat:0,ease:"power1.inOut"}),d.showPage(Number(u.modelIndex))},$=()=>{u.title&&u.cgPath&&d.addComponent(u.title,u.cgPath,Number(u.modelIndex))};let a;const M=r=>{r.forEach(R=>{R.isIntersecting&&w.setMainColor(`${u.mainColor}`)})},Y=()=>{s=new IntersectionObserver(M,{root:null,rootMargin:"-50% 0px",threshold:0}),c.value&&s.observe(c.value)},j=(r,R,G)=>({init:()=>{l=new ve({alpha:!0,antialias:!1});const z=256,W=192;T=new Le(z,W,{format:Te,colorSpace:Ae}),l.setPixelRatio(1),l.setSize(z,W),l.setClearColor(0,0),r.value.appendChild(l.domElement),C=new Z,C.background=null,y=new ee(45,z/W,.1,70),y.position.set(2,2,4),y.lookAt(new pe(0,1.4,0)),A=new Z,A.background=null;const re=60,we=re/2*(Math.PI/180),Se=W/2/Math.tan(we);n=new ee(re,z/W,1,Se*2),n.position.z=200;const Ce=new Pe(z,W);a=new Be({uniforms:{uPercent:{value:X},uTexture:{value:T.texture}},vertexShader:Re,fragmentShader:Ne,transparent:!0});const ae=new ke(Ce,a);ae.material.transparent=!0,A.add(ae);const J=new ge(16777215);J.intensity=4,J.position.set(2,2,1),C.add(J),new he().load(`${u.cgPath}`,F=>{i=F.scene,i.position.set(0,1.4,0),C.add(i),$(),S=F.animations},void 0,function(F){console.error(F)});const ce=()=>{D=requestAnimationFrame(ce),L.forEach(F=>F.update(.01)),(k||m)&&(v-=Q),k&&(v-Q<0&&(a.uniforms.uPercent.value-=K,v=K),a.uniforms.uPercent.value==0&&(a.uniforms.uPercent.value=0,k=!1)),m&&(v-Q<0&&(a.uniforms.uPercent.value+=K,v=K),a.uniforms.uPercent.value==X&&(a.uniforms.uPercent.value=X,m=!1)),l&&(l.setRenderTarget(T),l.clear(),l.render(C,y),l.setRenderTarget(null),l.clear(),l.render(A,n))};ce()}}),E=()=>{if(!c.value)return;const r=c.value.getBoundingClientRect(),R=r.left+r.width/2,G=r.top+r.height/2;b.value.x=Math.floor(R).toString(),b.value.y=Math.floor(G).toString()};return V(()=>{const{init:r}=j(c);r(),Y(),window.addEventListener("scroll",E)}),se(()=>{s&&s.unobserve(c.value)}),le(()=>{l&&(cancelAnimationFrame(D),l.dispose(),l.forceContextLoss()),window.removeEventListener("scroll",E)}),ue(()=>u.isActive,r=>{r?(k=!0,m=!1):(k=!1,m=!0)}),_({container:c,sendTitle:I,animationPlay:g}),(r,R)=>{const G=He,ie=fe;return O(),de(ie,{to:`/sneaker/${P.modelIndex}`,onClick:h,class:"c-sneaker-list"},{default:me(()=>[e("div",{class:H(["debugBox posTopLeft",{isActive:t(d).isDebug}])},[We,e("div",Fe,p(P.isActive),1)],2),e("div",{class:H(["webGLbox",{isDebug:t(d).isDebug}]),ref_key:"container",ref:c},null,2),N(G,{isActive:P.isActive,title:P.title},null,8,["isActive","title"]),e("div",{class:H(["debugWebGLboxPos",{isDebug:t(d).isDebug}])},[Oe,e("div",ze,"("+p(t(b).x)+","+p(t(b).y)+")",1)],2)]),_:1},8,["to"])}}}),je=te({__name:"Box3D_lo",props:{title:String,cgPath:String,mainColor:String,modelIndex:String},setup(P,{expose:_,emit:f}){let c=[],u=null,v,b=!1;const x=o(null),d=P,w=f;_({container:x,sendTitle:()=>{w("getTitle",d.title)},animationPlay:()=>{b||u&&u.forEach(m=>{const s=new _e(v),l=s.clipAction(m);l.setLoop(be,0),l.clampWhenFinished=!0,l.play(),c.push(s),b=!0})}});const T=oe(),C=ne(),y=()=>{U.to(v.rotation,{y:Math.PI*6,duration:.5,repeat:0,ease:"power1.inOut",onComplete:function(){}}),U.to(v.scale,{x:0,z:0,duration:.5,repeat:0,ease:"power1.inOut"}),T.showPage(Number(d.modelIndex))},A=()=>{d.title&&d.cgPath&&T.addComponent(d.title,d.cgPath,Number(d.modelIndex))};let n=null;const i=()=>{document.body.scrollHeight-window.innerHeight,document.documentElement.scrollTop,n&&clearTimeout(n),n=setTimeout(()=>{n=null},300)},D=m=>{m.forEach(s=>{s.isIntersecting&&C.setMainColor(`${d.mainColor}`)})},B=()=>{const m=new IntersectionObserver(D,{root:null,rootMargin:"-50% 0px",threshold:0});x.value&&m.observe(x.value)},k=(m,s,l)=>({init:()=>{const g=new ve({alpha:!0,antialias:!1}),h=256,$=192;g.setPixelRatio(1),g.setSize(h,$),g.setClearColor(0,0),m.value.appendChild(g.domElement);const a=new Z,M=new ee(45,h/$,.1,70);M.position.set(2,2,4),M.lookAt(new pe(0,1,0));const Y=new ge(16777215);Y.intensity=4,Y.position.set(0,2,1),a.add(Y),new he().load(`${d.cgPath}`,r=>{v=r.scene,v.position.set(0,1.4,0),a.add(v),A(),u=r.animations},void 0,function(r){console.error(r)});const E=()=>{requestAnimationFrame(E),c.forEach(r=>r.update(.01)),g.render(a,M)};E(),g.render(a,M),le(()=>{g.dispose(),g.forceContextLoss()})}});return V(()=>{const{init:m}=k(x);m(),B(),window.addEventListener("scroll",i)}),se(()=>{window.removeEventListener("scroll",i)}),(m,s)=>{const l=fe;return O(),de(l,{to:`/sneaker/${P.modelIndex}`,onClick:y,class:"c-sneaker-list"},{default:me(()=>[e("div",{class:"webGLbox",ref_key:"container",ref:x},null,512)]),_:1},8,["to"])}}}),Ue=xe("/images/scroll_arrow_top.png"),qe=xe("/images/scroll_arrow_bottom.png"),Ve={class:"ScrollBar"},Je=e("img",{src:Ue,class:"ScrollBarArrow ScrollBarArrow--top"},null,-1),Xe=e("img",{src:qe,class:"ScrollBarArrow ScrollBarArrow--bottom"},null,-1),Qe=e("div",{class:"custom-scrollbar-thumb-inner"},null,-1),Ze=[Qe],et={class:"debug"},tt=te({__name:"ScrollBar",setup(P){const _=o(null),f=o(null),c=o(""),u=o(""),v=o(""),b=o(""),x=o(""),d=o(""),w=o(""),L=o(""),S=o("");return V(()=>{const T=document.querySelector(".l-wrapper");if(!T)return;let C=T.scrollHeight,y=window.innerHeight,A=y/C*y,n=window.scrollY,i=n/C*y+15;f.value&&(f.value.style.height=`${A}px`,f.value.style.transform=`translateY(${i}px)`),window.addEventListener("scroll",()=>{D||f.value&&(n=window.scrollY,i=n/C*y,i<15&&(i=15),i>window.innerHeight-A-15&&(i=window.innerHeight-A-15),f.value.style.transform=`translateY(${i}px)`)});let D=!1,B,k,m;f.value&&(f.value.addEventListener("mousedown",s=>{D=!0,B=s.pageY,m=s.clientY,w.value=B.toString(),n=window.scrollY,i=n/C*y,k=window.scrollY,L.value=k.toString(),document.body.style.userSelect="none"}),c.value=T.clientHeight.toString(),u.value=T.scrollHeight.toString(),document.addEventListener("mousemove",s=>{if(D){const l=s.pageY-B,I=s.clientY-m,g=I/window.innerHeight*document.documentElement.scrollHeight;if(window.scrollTo(0,k+g),d.value=s.pageY.toString(),w.value=B.toString(),b.value=l.toString(),x.value=g.toString(),f.value){let h=I/window.innerHeight*y+i;f.value.style.transform=`translateY(${h}px)`,S.value=h.toString(),h<15&&(h=15,f.value.style.transform=`translateY(${h}px)`,S.value=i.toString()),h>window.innerHeight-A-15&&(h=window.innerHeight-A-15,f.value.style.transform=`translateY(${h}px)`,S.value=i.toString())}}}),document.addEventListener("mouseup",()=>{D=!1,document.body.style.userSelect=""}))}),(T,C)=>(O(),q(Ee,null,[e("div",Ve,[Je,Xe,e("div",{ref_key:"customScrollbar",ref:_,class:"custom-scrollbar"},[e("div",{ref_key:"scrollbarThumb",ref:f,class:"custom-scrollbar-thumb"},Ze,512)],512)]),e("div",et,[e("div",null,"高さ: "+p(t(c)),1),e("div",null,"スクロール高さ: "+p(t(u)),1),e("div",null,"イベント名: "+p(t(v)),1),e("div",null,"deltaY: "+p(t(b)),1),e("div",null,"debug_scrollDelta: "+p(t(x)),1),e("div",null,"debug_pageY: "+p(t(d)),1),e("div",null,"debug_startY: "+p(t(w)),1),e("div",null,"debug_startScrollTop: "+p(t(L)),1),e("div",null,"debug_thumbPosition: "+p(t(S)),1)])],64))}}),ot={class:"l-content-scroll"},nt={class:"l-content-wrapper"},st={class:"l-content-wrapper-inner"},lt={class:"l-selectCursor"},ct={__name:"index",setup(P){const _=o(-1),f=ne(),c=oe();o(null);const u=o(null),v=o(!1),b=o(""),x=o(null),d=o(null),w=o(null),L=o(null),S=o(null);o(!1);const T=o(null),C=o(null),y=o(null),A=o(null),n=o({topLeft:{x:"0",y:"0"},topRight:{x:"0",y:"0"},bottomLeft:{x:"0",y:"0"},bottomRight:{x:"0",y:"0"}}),i=s=>{b.value=s},D=o(!1),B=()=>{const s=S.value.getBoundingClientRect(),l=1,I=s.width*l,g=s.height*l,h=s.left+s.width/2,$=s.top+s.height/2,a={left:h-I/2,right:h+I/2,top:$-g/2,bottom:$+g/2};n.value.topLeft.x=Math.floor(a.left),n.value.topLeft.y=Math.floor(a.top),n.value.topRight.x=Math.floor(a.right),n.value.topRight.y=Math.floor(a.top),n.value.bottomLeft.x=Math.floor(a.left),n.value.bottomLeft.y=Math.floor(a.bottom),n.value.bottomRight.x=Math.floor(a.right),n.value.bottomRight.y=Math.floor(a.bottom);const M=[x,d,w,L];D.value=M.some((Y,j)=>{const E=Y.value.container.getBoundingClientRect(),r={x:(E.right-E.left)/2+E.left,y:(E.bottom-E.top)/2+E.top};let R=!1;return a.top<r.y&&r.y<a.bottom&&(Y.value.sendTitle(),Y.value.animationPlay(),R=!0,_.value=j),R||(_.value=-1,b.value=""),R})},k=()=>{window.scrollY===0&&f.setMainBasicColor()},m=()=>{if(!u.value)return;const s=u.value.getBoundingClientRect();v.value=s.top<=0};return V(()=>{window.addEventListener("scroll",m),B(),window.addEventListener("scroll",B),window.addEventListener("scroll",k)}),le(()=>{window.removeEventListener("scroll",m)}),se(()=>{window.removeEventListener("scroll",B)}),(s,l)=>{const I=Ge,g=Ke,h=je,$=tt;return O(),q("div",null,[e("div",ot,[e("div",nt,[e("div",st,[e("div",lt,[e("div",{class:H(["p-selectCursor",{isDebug:t(c).isDebug}])},[e("div",{class:H(["c-selectCursor",{isDebug:t(c).isDebug}]),ref_key:"selectCursor",ref:S},[e("div",{class:H(["c-selectCursor-pos debugBox",{isActive:t(c).isDebug}])},[e("div",{class:"c-selectCursor-pos-disp -topLeft",ref_key:"selectCursorTopLeft",ref:T}," ("+p(t(n).topLeft.x)+","+p(t(n).topLeft.y)+") ",513),e("div",{class:"c-selectCursor-pos-disp -topRight",ref_key:"selectCursorTopRight",ref:C}," ("+p(t(n).topRight.x)+","+p(t(n).topRight.y)+") ",513),e("div",{class:"c-selectCursor-pos-disp -bottomLeft",ref_key:"selectCursorBottomLeft",ref:y}," ("+p(t(n).bottomLeft.x)+","+p(t(n).bottomLeft.y)+") ",513),e("div",{class:"c-selectCursor-pos-disp -bottomRight",ref_key:"selectCursorBottomRight",ref:A}," ("+p(t(n).bottomRight.x)+","+p(t(n).bottomRight.y)+") ",513)],2),e("div",{class:H(["c-selectCursor-name",{isActive:t(c).isDebug}])}," Touch Area ",2)],2)],2)]),N(I),e("div",{class:H(["debugBox debugShowActiveObjIndex",{isActive:t(c).isDebug}])}," Active Obj index: "+p(t(_)),3),N(g,{ref_key:"Box3D_lo_1",ref:x,modelIndex:"1",title:"NIKE AIR JORDAN 2",cgPath:"/nuxt3/object/sneaker_lo.glb",mainColor:"#473acc",isActive:t(_)===0,onGetTitle:i},null,8,["isActive"]),N(g,{ref_key:"Box3D_lo_2",ref:d,modelIndex:"2",title:"NIKE DUNK LOW Pro B",cgPath:"/nuxt3/object/sneaker_lo_2.glb",mainColor:"#F00",isActive:t(_)===1,onGetTitle:i},null,8,["isActive"]),N(h,{ref_key:"Box3D_lo_3",ref:w,modelIndex:"3",title:"NIKE SNEAKER AAAAA",cgPath:"/nuxt3/object/sneaker_lo_others.glb",mainColor:"#333",isActive:t(_)===2,onGetTitle:i},null,8,["isActive"]),N(h,{ref_key:"Box3D_lo_4",ref:L,modelIndex:"4",title:"NIKE OTHERS",cgPath:"/nuxt3/object/sneaker_lo_others.glb",mainColor:"#333",isActive:t(_)===3,onGetTitle:i},null,8,["isActive"])])])]),N($)])}}};export{ct as default};
